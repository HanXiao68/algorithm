  3.最后通过epoll wait（）系统调用判断双向链表是否为空，如果为空，则阻塞。当fd状态改变时，fd上的回调函数被调用，该函数将fd加入到双向链表中，此时epoll_wait函数被唤醒，返回就绪好的事件。
